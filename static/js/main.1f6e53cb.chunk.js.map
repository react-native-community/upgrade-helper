{"version":3,"sources":["releases/0.57.js","releases/0.58.js","releases/0.59.js","releases/0.60.js","releases/0.61.js","releases/0.62.js","releases/0.64.js","assets/logo.svg","releases sync /^/.//.*$","utils.js","components/common/Select.js","components/common/UpgradeButton.js","components/common/VersionSelector.js","components/common/Diff/DiffCommentReminder.js","components/common/Diff/DiffHeader.js","components/common/Markdown.js","components/common/Diff/DiffComment.js","components/common/Diff/Diff.js","components/common/Diff/DiffSection.js","components/common/Diff/DiffLoading.js","components/common/UpgradeSupportAlert.js","components/common/AppNameWarning.js","components/common/UsefulContentSection.js","components/common/Diff/DiffViewStyleOptions.js","components/common/CompletedFilesCounter.js","components/common/DiffViewer.js","components/common/Settings.js","components/pages/Home.js","App.jsx","serviceWorker.js","index.jsx","releases/index.js","releases/__mocks__/index.js"],"names":["usefulContent","description","links","title","url","comments","fileName","lineNumber","lineChangeType","content","module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","RN_DIFF_REPO","RELEASES_URL","getDiffPatchURL","fromVersion","toVersion","getBinaryFileURL","version","path","removeAppPathPrefix","appName","replace","RegExp","replaceWithProvidedAppName","toLowerCase","getVersionsInDiff","cleanedToVersion","semver","valid","coerce","versions","filter","cleanedVersion","compare","includes","getChangelogURL","SHOW_LATEST_RCS","Option","AntdSelect","SelectBoxContainer","SelectBox","Select","options","props","size","option","key","value","Container","Button","AntdButton","UpgradeButton","React","forwardRef","ref","localFromVersion","localToVersion","onShowDiff","type","onClick","Selectors","FromVersionSelector","ToVersionSelector","popover","cloneElement","children","compareReleaseCandidateVersions","versionToCompare","diff","getReleasedVersionsWithCandidates","releasedVersions","latestVersion","showReleaseCandidates","isToVersionAReleaseCandidate","prerelease","isLatestAReleaseCandidate","releasedVersion","checkIfVersionIsALatestRC","getReleasedVersions","minVersion","maxVersion","latestMajorReleaseVersion","find","patch","getLatestMajorReleaseVersion","length","lt","gt","getFirstMajorRelease","doesVersionExist","allVersions","_error","VersionSelector","showDiff","useState","isLoading","setLoading","setAllVersions","fromVersionList","setFromVersionList","toVersionList","setToVersionList","hasVersionsFromURL","setHasVersionsFromURL","setLocalFromVersion","setLocalToVersion","upgradeButtonEl","useRef","useEffect","versionsInURL","queryString","parse","window","location","search","from","to","getVersionsInURL","a","fetch","response","text","allVersionsFromResponse","split","hasFromVersionInURL","hasToVersionInURL","toVersionToBeSet","sanitizedVersions","fromVersionToBeSet","doesHaveVersionsInURL","current","fetchVersions","loading","onChange","chosenVersion","visible","placement","pageURL","href","newURL","history","replaceState","updateURLVersions","DiffCommentReminder","isDiffCollapsed","uncollapseDiff","numberOfComments","isVisible","div","variants","opacity","cursor","invisible","animate","transition","duration","InfoCircleOutlined","className","Wrapper","FileRenameArrow","RightOutlined","FileName","oldPath","newPath","FileStatus","color","add","modify","delete","rename","BinaryBadge","DownloadFileButton","shape","icon","DownloadOutlined","target","ViewFileButton","defaultIconButtonStyle","CompleteDiffButton","RollbackOutlined","CheckOutlined","isDiffCompleted","CopyPathToClipboardButton","onCopy","copyPathPopoverContent","resetCopyPathPopoverContent","trigger","overlayStyle","width","textAlign","CopyOutlined","onMouseOver","CollapseClickableArea","CollapseDiffButton","DownOutlined","DiffHeader","diffKey","hasDiff","setIsDiffCollapsed","onCompleteDiff","onCopyPathToClipboard","diffComments","sanitizedFilePaths","oldPathSanitized","newPathSanitized","getFilePathsToShow","altKey","Link","rel","stopPropagation","InlineCode","forceBlock","overrides","em","p","lineColors","neutral","isCommentVisible","height","hidden","initial","inherit","ContentContainer","ShowButton","scaleX","whileHover","scale","Content","Markdown","LINE_CHANGE_TYPES","ADD","DELETE","NEUTRAL","getComments","some","reduce","allComments","versionComments","toUpperCase","getLineNumberWithType","DiffComment","setIsCommentVisible","copyPathPopoverContentOpts","More","Decoration","DiffDecoration","DiffView","RDiff","memo","hunks","selectedChanges","onToggleChangeSelection","areAllCollapsed","setAllCollapsed","diffViewStyle","undefined","isDiffCollapsedByDefault","setCopyPathPopoverContent","getHunksWithAppName","useCallback","originalHunks","hunk","changes","change","collapse","viewType","diffType","widgets","optimizeSelection","updatedHunks","enhancers","markEdits","tokens","tokenize","gutterEvents","prevProps","nextProps","Title","DiffSection","getDiffKey","completedDiffs","isDoneSection","handleCompleteDiff","doneTitleRef","isUpgradingFrom61To62","isUpgradingFrom61","satisfies","isUpgradingTo62","getIsUpgradingFrom61To62","diffFile","match","oldRevision","newRevision","TitleLoader","speed","backgroundColor","foregroundColor","viewBox","rx","DiffLoader","x","y","motion","Header","DiffLoading","translateY","css","UpgradeSupportAlert","AppNameWarning","InnerContainer","isContentVisible","h2","visibleContent","translateX","hiddenContent","Icon","role","aria-label","HideContentButton","toggleContentVisibility","UpOutlined","Separator","List","UsefulContentSection","state","handleToggleContentVisibility","setState","nextState","hasLoaded","this","hasContentBeenHidden","hasMoreThanOneRelease","versionWithoutEndingZero","slice","Component","DiffViewStyleOptions","handleViewStyleChange","Group","shake","keyframes","CompletedFilesCounter","completed","total","popoverContent","popoverCursorType","position","active","config","elementCount","angle","startVelocity","delay","ms","Promise","res","setTimeout","withChangeSelect","multiple","shouldShowDiff","setDiff","setCompletedDiffs","isGoToDoneClicked","setIsGoToDoneClicked","donePopoverPossibleOpts","cursorType","donePopoverOpts","setDonePopoverOpts","localStorage","getItem","setViewStyle","handleFetchDiff","all","parseDiff","sort","diffSectionProps","prevCompletedDiffs","completedDiff","newViewStyle","setItem","style","marginTop","message","showIcon","closable","renderUpgradeDoneMessage","scrollTo","top","behavior","scrollIntoView","InputContainer","Settings","handleSettingsChange","setAppName","popoverVisibility","setVisibility","checkboxValues","placeholder","onVisibleChange","visibility","SettingOutlined","Page","Card","TitleContainer","LogoImg","TitleHeader","StarButton","Home","setFromVersion","setToVersion","setShouldShowDiff","settings","setSettings","ReactGA","initialize","pageview","marginBottom","alt","src","logo","homepage","data-icon","data-show-count","settingsValues","normalizedIncomingSettings","acc","val","App","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","require","default","jest","setMock"],"mappings":"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","file":"static/js/main.1f6e53cb.chunk.js","sourcesContent":["export default {\n  usefulContent: {\n    description:\n      'React Native 0.57 includes 599 commits by 73 different contributors, it has improvements to Accessibility APIs, Babel 7 stable support and more.',\n    links: [\n      {\n        title: '[External] Tutorial on upgrading to React Native 0.57',\n        url:\n          'https://reactnative.thenativebits.com/courses/upgrading-react-native/upgrade-to-react-native-0.57/'\n      }\n    ]\n  }\n}\n","export default {\n  usefulContent: {\n    description:\n      'React Native 0.58 is the first release of 2019, it includes work for modernizing and strengthening flow types for core components and  numerous crash fixes and resolutions for unexpected behaviors.',\n    links: [\n      {\n        title: '[External] Tutorial on upgrading to React Native 0.58',\n        url:\n          'https://reactnative.thenativebits.com/courses/upgrading-react-native/upgrade-to-react-native-0.58/'\n      }\n    ]\n  }\n}\n","export default {\n  usefulContent: {\n    description:\n      'React Native 0.59 includes React Hooks, performance gains on Android and lots of cool stuff.',\n    links: [\n      {\n        title:\n          'Official blog post about the major changes on React Native 0.59',\n        url:\n          'https://facebook.github.io/react-native/blog/2019/03/12/releasing-react-native-059'\n      },\n      {\n        title: '[External] Tutorial on upgrading to React Native 0.59',\n        url:\n          'https://reactnative.thenativebits.com/courses/upgrading-react-native/upgrade-to-react-native-0.59/'\n      }\n    ]\n  }\n}\n","import React, { Fragment } from 'react'\n\nexport default {\n  usefulContent: {\n    description:\n      'React Native 0.60 includes Cocoapods integration by default, AndroidX support, auto-linking libraries, a brand new Start screen and more.',\n    links: [\n      {\n        title:\n          'Official blog post about the major changes on React Native 0.60',\n        url:\n          'https://facebook.github.io/react-native/blog/2019/07/03/version-60'\n      },\n      {\n        title: '[External] Tutorial on upgrading to React Native 0.60',\n        url:\n          'https://reactnative.thenativebits.com/courses/upgrading-react-native/upgrade-to-react-native-0.60/'\n      }\n    ]\n  },\n  comments: [\n    {\n      fileName: 'ios/Podfile',\n      lineNumber: 4,\n      lineChangeType: 'add',\n      content: (\n        <Fragment>\n          All these libraries below have been removed from the Xcode project\n          file and now live in the Podfile. Cocoapods handles the linking now.\n          Here you can add more libraries with native modules.\n        </Fragment>\n      )\n    },\n    {\n      fileName: 'ios/RnDiffApp.xcodeproj/project.pbxproj',\n      lineNumber: 9,\n      lineChangeType: 'neutral',\n      content: (\n        <Fragment>\n          Click\n          [here](https://github.com/react-native-community/upgrade-support/issues/14)\n          for an explanation and some help with upgrading this file.\n        </Fragment>\n      )\n    }\n  ]\n}\n","export default {\n  usefulContent: {\n    description: 'React Native 0.61 includes Fast Refresh and more.',\n    links: [\n      {\n        title:\n          'Official blog post about the major changes on React Native 0.61',\n        url:\n          'https://facebook.github.io/react-native/blog/2019/09/18/version-0.61'\n      },\n      {\n        title: '[External] Tutorial on upgrading to React Native 0.61',\n        url:\n          'https://reactnative.thenativebits.com/courses/upgrading-react-native/upgrade-to-react-native-0.61/'\n      }\n    ]\n  }\n}\n","import React, { Fragment } from 'react'\n\nexport default {\n  usefulContent: {\n    description:\n      'React Native 0.62 includes built-in integration with Flipper.',\n    links: [\n      {\n        title:\n          'Official blog post about the major changes on React Native 0.62',\n        url: 'https://reactnative.dev/blog/2020/03/26/version-0.62'\n      },\n      {\n        title: '[External] Tutorial on upgrading to React Native 0.62',\n        url:\n          'https://reactnative.thenativebits.com/courses/upgrading-react-native/upgrade-to-react-native-0.62/'\n      },\n      {\n        title:\n          '[iOS] Tutorial on upgrading Xcode-related files to React Native 0.62',\n        url:\n          'https://github.com/react-native-community/upgrade-helper/issues/191'\n      }\n    ]\n  },\n  comments: [\n    {\n      fileName: 'ios/RnDiffApp.xcodeproj/project.pbxproj',\n      lineNumber: 19,\n      lineChangeType: 'add',\n      content: (\n        <Fragment>\n          Click\n          [here](https://github.com/react-native-community/upgrade-support/issues/13)\n          for an explanation and some help with upgrading this file.\n        </Fragment>\n      )\n    },\n    {\n      fileName: 'android/app/build.gradle',\n      lineNumber: 81,\n      lineChangeType: 'neutral',\n      content: (\n        <Fragment>\n          If you are using Hermes Engine and ProGuard, make sure to update the\n          rules in `proguard-rules.pro` to what is specified in the\n          [documentation](https://reactnative.dev/docs/hermes) for `0.62`.\n        </Fragment>\n      )\n    }\n  ]\n}\n","import React, { Fragment } from 'react'\n\nexport default {\n  usefulContent: {\n    description:\n      'React Native 0.64 includes hermes optin-in on iOS and React 17.',\n    links: [\n      {\n        title:\n          'Official blog post about the major changes on React Native 0.64',\n        url: 'https://reactnative.dev/blog/2021/03/12/version-0.64'\n      }\n    ]\n  },\n  comments: [\n    {\n      fileName: 'package.json',\n      lineNumber: 14,\n      lineChangeType: 'add',\n      content: (\n        <Fragment>\n          If you have the `hermes-engine` dependency you need to upgrade to\n          0.7.2 [see release\n          here](https://github.com/facebook/hermes/releases/tag/v0.7.2) if you\n          are on a previous version you might get crashes at boot on Android.\n        </Fragment>\n      )\n    }\n  ]\n}\n","module.exports = __webpack_public_path__ + \"static/media/logo.74ebf3f4.svg\";","var map = {\n\t\"./\": 62,\n\t\"./0.57\": 127,\n\t\"./0.57.js\": 127,\n\t\"./0.58\": 128,\n\t\"./0.58.js\": 128,\n\t\"./0.59\": 129,\n\t\"./0.59.js\": 129,\n\t\"./0.60\": 130,\n\t\"./0.60.js\": 130,\n\t\"./0.61\": 131,\n\t\"./0.61.js\": 131,\n\t\"./0.62\": 132,\n\t\"./0.62.js\": 132,\n\t\"./0.64\": 133,\n\t\"./0.64.js\": 133,\n\t\"./__mocks__\": 68,\n\t\"./__mocks__/\": 68,\n\t\"./__mocks__/index\": 68,\n\t\"./__mocks__/index.js\": 68,\n\t\"./index\": 62,\n\t\"./index.js\": 62\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 229;","import semver from 'semver/preload'\nimport versions from './releases'\n\nconst RN_DIFF_REPO = 'react-native-community/rn-diff-purge'\nconst DEFAULT_APP_NAME = 'RnDiffApp'\n\nexport const RELEASES_URL = `https://raw.githubusercontent.com/${RN_DIFF_REPO}/master/RELEASES`\n\nexport const getDiffPatchURL = ({ fromVersion, toVersion }) =>\n  `https://raw.githubusercontent.com/${RN_DIFF_REPO}/diffs/diffs/${fromVersion}..${toVersion}.diff`\n\n// `path` must contain `RnDiffApp` prefix\nexport const getBinaryFileURL = ({ version, path }) =>\n  `https://github.com/${RN_DIFF_REPO}/raw/release/${version}/${path}`\n\nexport const removeAppPathPrefix = (path, appName) =>\n  path.replace(new RegExp(`${appName || DEFAULT_APP_NAME}/`), '')\n\nexport const replaceWithProvidedAppName = (path, appName) => {\n  if (!appName) {\n    return path\n  }\n\n  return path\n    .replace(new RegExp(DEFAULT_APP_NAME, 'g'), appName)\n    .replace(\n      new RegExp(DEFAULT_APP_NAME.toLowerCase(), 'g'),\n      appName.toLowerCase()\n    )\n}\n\nexport const getVersionsInDiff = ({ fromVersion, toVersion }) => {\n  const cleanedToVersion = semver.valid(semver.coerce(toVersion))\n\n  return versions.filter(({ version }) => {\n    const cleanedVersion = semver.coerce(version)\n\n    // `cleanedVersion` can't be newer than `cleanedToVersion` nor older (or equal) than `fromVersion`\n    return (\n      semver.compare(cleanedToVersion, cleanedVersion) !== -1 &&\n      ![0, -1].includes(semver.compare(cleanedVersion, fromVersion))\n    )\n  })\n}\n\nconst baseChangelogURL =\n  'https://github.com/react-native-community/releases/blob/master/CHANGELOG.md'\nexport const getChangelogURL = ({ version }) =>\n  `${baseChangelogURL}#v${version.replace('.', '')}0`\n\n// settings constants\nexport const SHOW_LATEST_RCS = 'Show latest release candidates'\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { Select as AntdSelect } from 'antd'\n\nconst { Option } = AntdSelect\n\nconst SelectBoxContainer = styled.div`\n  width: 100%;\n`\nconst SelectBox = styled(AntdSelect)`\n  width: 100%;\n`\n\nconst Select = ({ title, options, ...props }) => (\n  <SelectBoxContainer>\n    <h4>{title}</h4>\n\n    <SelectBox size=\"large\" {...props}>\n      {options.map(option => (\n        <Option key={option} value={option}>\n          {option}\n        </Option>\n      ))}\n    </SelectBox>\n  </SelectBoxContainer>\n)\n\nexport default Select\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { Button as AntdButton } from 'antd'\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  height: auto;\n  overflow: hidden;\n  margin-top: 25px;\n`\n\nconst Button = styled(AntdButton)`\n  border-radius: 3px;\n`\n\nconst UpgradeButton = React.forwardRef(\n  ({ localFromVersion, localToVersion, onShowDiff, ...props }, ref) => (\n    <Container>\n      <Button\n        {...props}\n        ref={ref}\n        type=\"primary\"\n        size=\"large\"\n        onClick={() =>\n          onShowDiff({\n            fromVersion: localFromVersion,\n            toVersion: localToVersion\n          })\n        }\n      >\n        Show me how to upgrade!\n      </Button>\n    </Container>\n  )\n)\n\nexport default UpgradeButton\n","import React, { Fragment, useState, useEffect, useRef } from 'react'\nimport styled from '@emotion/styled'\nimport { Popover } from 'antd'\nimport semver from 'semver/preload'\nimport queryString from 'query-string'\nimport { RELEASES_URL } from '../../utils'\nimport { Select } from './'\nimport UpgradeButton from './UpgradeButton'\n\nconst Selectors = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\n\nconst FromVersionSelector = styled(Select)`\n  padding-right: 5px;\n`\n\nconst ToVersionSelector = styled(({ popover, ...props }) =>\n  popover ? (\n    React.cloneElement(popover, {\n      children: <Select {...props} />\n    })\n  ) : (\n    <Select {...props} />\n  )\n)`\n  padding-left: 5px;\n`\n\nconst getVersionsInURL = () => {\n  // Parses `/?from=VERSION&to=VERSION` from URL\n  const { from: fromVersion, to: toVersion } = queryString.parse(\n    window.location.search\n  )\n\n  return {\n    fromVersion,\n    toVersion\n  }\n}\n\nconst compareReleaseCandidateVersions = ({ version, versionToCompare }) =>\n  ['prerelease', 'prepatch', null].includes(\n    semver.diff(version, versionToCompare)\n  )\n\nconst getLatestMajorReleaseVersion = releasedVersions =>\n  semver.valid(\n    semver.coerce(\n      releasedVersions.find(\n        releasedVersion =>\n          !semver.prerelease(releasedVersion) &&\n          semver.patch(releasedVersion) === 0\n      )\n    )\n  )\n\n// Check if `from` rc version is one of the latest major release (ie. 0.60.0)\nconst checkIfVersionIsALatestRC = ({ version, latestVersion }) =>\n  semver.prerelease(version) &&\n  compareReleaseCandidateVersions({\n    version: latestVersion,\n    versionToCompare: version\n  })\n\n// Filters out release candidates from `releasedVersion` with the\n// exception of the release candidates from the latest version\nconst getReleasedVersionsWithCandidates = ({\n  releasedVersions,\n  toVersion,\n  latestVersion,\n  showReleaseCandidates\n}) => {\n  const isToVersionAReleaseCandidate = semver.prerelease(toVersion) !== null\n  const isLatestAReleaseCandidate = semver.prerelease(latestVersion) !== null\n\n  return releasedVersions.filter(releasedVersion => {\n    // Show the release candidates of the latest version\n    const isLatestReleaseCandidate =\n      showReleaseCandidates &&\n      checkIfVersionIsALatestRC({\n        version: releasedVersion,\n        latestVersion\n      })\n\n    return (\n      isLatestReleaseCandidate ||\n      semver.prerelease(releasedVersion) === null ||\n      (isToVersionAReleaseCandidate &&\n        compareReleaseCandidateVersions({\n          version: toVersion,\n          versionToCompare: releasedVersion\n        })) ||\n      (isLatestAReleaseCandidate &&\n        compareReleaseCandidateVersions({\n          version: latestVersion,\n          versionToCompare: releasedVersion\n        }))\n    )\n  })\n}\n\nconst getReleasedVersions = ({ releasedVersions, minVersion, maxVersion }) => {\n  const latestMajorReleaseVersion = getLatestMajorReleaseVersion(\n    releasedVersions\n  )\n\n  const isVersionAReleaseAndOfLatest = version =>\n    version.includes('rc') &&\n    semver.valid(semver.coerce(version)) === latestMajorReleaseVersion\n\n  return releasedVersions.filter(\n    releasedVersion =>\n      releasedVersion.length > 0 &&\n      ((maxVersion && semver.lt(releasedVersion, maxVersion)) ||\n        (minVersion &&\n          semver.gt(releasedVersion, minVersion) &&\n          !isVersionAReleaseAndOfLatest(releasedVersion)))\n  )\n}\n\n// Finds the first minor release (which in react-native is the major) when compared to another version\nconst getFirstMajorRelease = ({ releasedVersions, versionToCompare }) =>\n  releasedVersions.find(\n    releasedVersion =>\n      semver.lt(releasedVersion, versionToCompare) &&\n      semver.diff(\n        semver.valid(semver.coerce(releasedVersion)),\n        semver.valid(semver.coerce(versionToCompare))\n      ) === 'minor'\n  )\n\n// Return if version exists in the ones returned from GitHub\nconst doesVersionExist = ({ version, allVersions, minVersion }) => {\n  try {\n    return (\n      version &&\n      allVersions.includes(version) &&\n      // Also compare the version against a `minVersion`, this is used\n      // to not allow the user to have a `fromVersion` newer than `toVersion`\n      (!minVersion || (minVersion && semver.gt(version, minVersion)))\n    )\n  } catch (_error) {\n    return false\n  }\n}\n\nconst updateURLVersions = ({ fromVersion, toVersion }) => {\n  const pageURL = window.location.href.replace(window.location.search, '')\n  const newURL = `?from=${fromVersion}&to=${toVersion}`\n\n  window.history.replaceState(null, null, `${pageURL}${newURL}`)\n}\n\nconst VersionSelector = ({ showDiff, showReleaseCandidates }) => {\n  const [isLoading, setLoading] = useState(true)\n  const [allVersions, setAllVersions] = useState([])\n  const [fromVersionList, setFromVersionList] = useState([])\n  const [toVersionList, setToVersionList] = useState([])\n  const [hasVersionsFromURL, setHasVersionsFromURL] = useState(false)\n\n  const [localFromVersion, setLocalFromVersion] = useState('')\n  const [localToVersion, setLocalToVersion] = useState('')\n\n  const upgradeButtonEl = useRef(null)\n\n  useEffect(() => {\n    const versionsInURL = getVersionsInURL()\n\n    const fetchVersions = async () => {\n      const response = await fetch(RELEASES_URL)\n\n      const allVersionsFromResponse = (await response.text()).split('\\n')\n\n      // Check if the versions provided in the URL are valid\n      const hasFromVersionInURL = doesVersionExist({\n        version: versionsInURL.fromVersion,\n        allVersions: allVersionsFromResponse\n      })\n      const hasToVersionInURL = doesVersionExist({\n        version: versionsInURL.toVersion,\n        allVersions: allVersionsFromResponse,\n        minVersion: versionsInURL.fromVersion\n      })\n\n      const latestVersion = allVersionsFromResponse[0]\n      // If the version from URL is not valid then fallback to the latest\n      const toVersionToBeSet = hasToVersionInURL\n        ? versionsInURL.toVersion\n        : latestVersion\n\n      // Remove `rc` versions from the array of versions\n      const sanitizedVersions = getReleasedVersionsWithCandidates({\n        releasedVersions: allVersionsFromResponse,\n        toVersion: toVersionToBeSet,\n        latestVersion,\n        showReleaseCandidates\n      })\n\n      setAllVersions(sanitizedVersions)\n\n      const fromVersionToBeSet = hasFromVersionInURL\n        ? versionsInURL.fromVersion\n        : // Get first major release before latest\n          getFirstMajorRelease({\n            releasedVersions: sanitizedVersions,\n            versionToCompare: toVersionToBeSet\n          })\n\n      setFromVersionList(\n        getReleasedVersions({\n          releasedVersions: sanitizedVersions,\n          maxVersion: toVersionToBeSet\n        })\n      )\n      setToVersionList(\n        getReleasedVersions({\n          releasedVersions: sanitizedVersions,\n          minVersion: fromVersionToBeSet\n        })\n      )\n\n      setLocalFromVersion(fromVersionToBeSet)\n      setLocalToVersion(toVersionToBeSet)\n\n      setLoading(false)\n\n      const doesHaveVersionsInURL = hasFromVersionInURL && hasToVersionInURL\n\n      setHasVersionsFromURL(doesHaveVersionsInURL)\n\n      if (doesHaveVersionsInURL) {\n        upgradeButtonEl.current.props.onClick()\n      }\n    }\n\n    fetchVersions()\n  }, [setLocalFromVersion, setLocalToVersion, showReleaseCandidates])\n\n  useEffect(() => {\n    if (isLoading) {\n      return\n    }\n\n    setFromVersionList(\n      getReleasedVersions({\n        releasedVersions: allVersions,\n        maxVersion: localToVersion\n      })\n    )\n    setToVersionList(\n      getReleasedVersions({\n        releasedVersions: allVersions,\n        minVersion: localFromVersion\n      })\n    )\n  }, [\n    isLoading,\n    allVersions,\n    localFromVersion,\n    localToVersion,\n    hasVersionsFromURL,\n    showReleaseCandidates\n  ])\n\n  const onShowDiff = ({ fromVersion, toVersion }) => {\n    showDiff({\n      fromVersion,\n      toVersion\n    })\n\n    updateURLVersions({\n      fromVersion: localFromVersion,\n      toVersion: localToVersion\n    })\n  }\n\n  return (\n    <Fragment>\n      <Selectors>\n        <FromVersionSelector\n          title=\"What's your current React Native version?\"\n          loading={isLoading}\n          value={localFromVersion}\n          options={fromVersionList}\n          onChange={chosenVersion => setLocalFromVersion(chosenVersion)}\n        />\n\n        <ToVersionSelector\n          title=\"To which version would you like to upgrade?\"\n          loading={isLoading}\n          value={localToVersion}\n          options={toVersionList}\n          popover={\n            localToVersion === '0.60.1' && (\n              <Popover\n                visible={true}\n                placement=\"topLeft\"\n                content=\"We recommend using the latest 0.60 patch release instead of 0.60.1.\"\n              />\n            )\n          }\n          onChange={chosenVersion => setLocalToVersion(chosenVersion)}\n        />\n      </Selectors>\n\n      <UpgradeButton\n        ref={upgradeButtonEl}\n        localFromVersion={localFromVersion}\n        localToVersion={localToVersion}\n        onShowDiff={onShowDiff}\n      />\n    </Fragment>\n  )\n}\n\nexport default VersionSelector\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { motion } from 'framer-motion'\nimport { InfoCircleOutlined } from '@ant-design/icons'\n\nconst DiffCommentReminder = styled(\n  ({ comments, isDiffCollapsed, uncollapseDiff, ...props }) => {\n    const numberOfComments = Object.keys(comments).length\n    const isVisible = isDiffCollapsed && numberOfComments > 0\n\n    return (\n      <motion.div\n        {...props}\n        variants={{\n          visible: { opacity: 1, cursor: 'pointer' },\n          invisible: { opacity: 0, cursor: 'initial' }\n        }}\n        animate={isVisible > 0 ? 'visible' : 'invisible'}\n        transition={{\n          duration: 0.5\n        }}\n        onClick={uncollapseDiff}\n      >\n        <InfoCircleOutlined className=\"icon\" />\n\n        <span className=\"reminder\">\n          {numberOfComments} hidden comment{numberOfComments > 1 && 's'}\n        </span>\n      </motion.div>\n    )\n  }\n)`\n  display: inline;\n  background-color: #fffbe6;\n  padding: 5px;\n  border-radius: 3px;\n  margin-left: 10px;\n  border: 1px solid #ffe58f;\n\n  & > .icon {\n    margin-right: 6px;\n  }\n\n  & > .reminder {\n    word-spacing: -2px;\n  }\n`\n\nexport default DiffCommentReminder\n","import React, { Fragment } from 'react'\nimport styled from '@emotion/styled'\nimport { Tag, Button, Popover } from 'antd'\nimport {\n  CheckOutlined,\n  DownloadOutlined,\n  DownOutlined,\n  RightOutlined,\n  CopyOutlined,\n  RollbackOutlined\n} from '@ant-design/icons'\nimport {\n  removeAppPathPrefix,\n  getBinaryFileURL,\n  replaceWithProvidedAppName\n} from '../../../utils'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport DiffCommentReminder from './DiffCommentReminder'\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier,\n    monospace;\n  font-size: 12px;\n  color: #24292e;\n  line-height: 32px;\n  background-color: #fafbfc;\n  border-bottom: 1px solid #e1e4e8;\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n  padding: 5px 10px;\n  position: sticky;\n  top: 0;\n`\n\nconst FileRenameArrow = styled(RightOutlined)({\n  fontSize: '10px',\n  margin: '0 5px',\n  color: '#f78206'\n})\n\nconst getFilePathsToShow = ({ oldPath, newPath, appName }) => {\n  const oldPathSanitized = replaceWithProvidedAppName(oldPath, appName)\n  const newPathSanitized = replaceWithProvidedAppName(newPath, appName)\n\n  return {\n    oldPath: removeAppPathPrefix(oldPathSanitized, appName),\n    newPath: removeAppPathPrefix(newPathSanitized, appName)\n  }\n}\n\nconst FileName = ({ oldPath, newPath, type, appName }) => {\n  if (type === 'delete') {\n    return <span>{oldPath}</span>\n  }\n\n  if (oldPath !== newPath && type !== 'add') {\n    return (\n      <span>\n        {oldPath} <FileRenameArrow /> {newPath}\n      </span>\n    )\n  }\n\n  return <span>{newPath}</span>\n}\n\nconst FileStatus = ({ type, ...props }) => {\n  const colors = {\n    add: 'blue',\n    modify: 'green',\n    delete: 'red',\n    rename: 'orange'\n  }\n\n  const labels = {\n    add: 'ADDED',\n    modify: 'MODIFIED',\n    delete: 'DELETED',\n    rename: 'RENAMED'\n  }\n\n  return (\n    <Tag {...props} color={colors[type]}>\n      {labels[type]}\n    </Tag>\n  )\n}\n\nconst BinaryBadge = ({ visible, ...props }) =>\n  visible ? (\n    <Tag {...props} color=\"cyan\">\n      BINARY\n    </Tag>\n  ) : null\n\nconst DownloadFileButton = styled(({ visible, version, path, ...props }) =>\n  visible ? (\n    <Button\n      {...props}\n      type=\"ghost\"\n      shape=\"circle\"\n      icon={<DownloadOutlined />}\n      target=\"_blank\"\n      href={getBinaryFileURL({ version, path })}\n    />\n  ) : null\n)`\n  color: #24292e;\n  font-size: 12px;\n  border-width: 0;\n  &:hover,\n  &:focus {\n    color: #24292e;\n  }\n`\n\nconst ViewFileButton = styled(({ visible, version, path, ...props }) =>\n  visible ? (\n    <Button\n      {...props}\n      type=\"link\"\n      target=\"_blank\"\n      href={getBinaryFileURL({ version, path })}\n    >\n      View file\n    </Button>\n  ) : null\n)`\n  font-size: 12px;\n  color: #24292e;\n`\n\nconst defaultIconButtonStyle = `\n  font-size: 13px;\n  line-height: 0;\n  border-width: 0px;\n  width: 22px;\n  height: 22px;\n  margin: 5px 0;\n  border-radius: 50%;\n`\n\nconst CompleteDiffButton = styled(({ visible, onClick, ...props }) =>\n  visible ? (\n    <Button\n      {...props}\n      type=\"ghost\"\n      icon={<RollbackOutlined />}\n      onClick={onClick}\n    />\n  ) : (\n    <Button\n      {...props}\n      type=\"ghost\"\n      icon={<CheckOutlined />}\n      onClick={onClick}\n    />\n  )\n)`\n  ${defaultIconButtonStyle}\n  &,\n  &:hover,\n  &:focus {\n    color: ${({ isDiffCompleted }) =>\n      isDiffCompleted ? '#52c41a' : '#24292e'};\n  }\n`\n\nconst CopyPathToClipboardButton = styled(\n  ({\n    oldPath,\n    newPath,\n    type,\n    onCopy,\n    copyPathPopoverContent,\n    resetCopyPathPopoverContent,\n    ...props\n  }) => (\n    <CopyToClipboard text={type === 'add' ? newPath : oldPath} onCopy={onCopy}>\n      <Popover\n        content={copyPathPopoverContent}\n        trigger=\"hover\"\n        overlayStyle={{\n          width: '175px',\n          textAlign: 'center'\n        }}\n      >\n        <Button\n          {...props}\n          type=\"ghost\"\n          icon={<CopyOutlined />}\n          onMouseOver={resetCopyPathPopoverContent}\n        />\n      </Popover>\n    </CopyToClipboard>\n  )\n)`\n  ${defaultIconButtonStyle}\n`\n\nconst CollapseClickableArea = styled.div`\n  display: inline-block;\n  &:hover {\n    cursor: pointer;\n  }\n`\n\nconst CollapseDiffButton = styled(({ visible, isDiffCollapsed, ...props }) =>\n  visible ? <Button {...props} type=\"link\" icon={<DownOutlined />} /> : null\n)`\n  color: #24292e;\n  margin-right: 2px;\n  font-size: 10px;\n  transform: ${({ isDiffCollapsed }) =>\n    isDiffCollapsed ? 'rotate(-90deg)' : 'initial'};\n  transition: transform 0.2s ease-in-out;\n  transform-origin: center;\n  line-height: 0;\n  height: auto;\n  &:hover,\n  &:focus {\n    color: #24292e;\n  }\n`\n\nconst DiffHeader = ({\n  oldPath,\n  newPath,\n  toVersion,\n  type,\n  diffKey,\n  hasDiff,\n  isDiffCollapsed,\n  setIsDiffCollapsed,\n  isDiffCompleted,\n  onCompleteDiff,\n  onCopyPathToClipboard,\n  copyPathPopoverContent,\n  resetCopyPathPopoverContent,\n  appName,\n  diffComments,\n  ...props\n}) => {\n  const sanitizedFilePaths = getFilePathsToShow({ oldPath, newPath, appName })\n\n  return (\n    <Wrapper {...props}>\n      <div>\n        <CollapseClickableArea\n          onClick={({ altKey }) => setIsDiffCollapsed(!isDiffCollapsed, altKey)}\n        >\n          <CollapseDiffButton\n            visible={hasDiff}\n            isDiffCollapsed={isDiffCollapsed}\n          />\n          <FileName\n            oldPath={sanitizedFilePaths.oldPath}\n            newPath={sanitizedFilePaths.newPath}\n            type={type}\n            appName={appName}\n          />{' '}\n          <FileStatus type={type} />\n          <BinaryBadge visible={!hasDiff} />\n        </CollapseClickableArea>\n        <CopyPathToClipboardButton\n          oldPath={sanitizedFilePaths.oldPath}\n          newPath={sanitizedFilePaths.newPath}\n          type={type}\n          onCopy={onCopyPathToClipboard}\n          copyPathPopoverContent={copyPathPopoverContent}\n          resetCopyPathPopoverContent={resetCopyPathPopoverContent}\n        />\n\n        <DiffCommentReminder\n          comments={diffComments}\n          isDiffCollapsed={isDiffCollapsed}\n          uncollapseDiff={() => setIsDiffCollapsed(false)}\n        />\n      </div>\n      <div>\n        <Fragment>\n          <ViewFileButton\n            visible={hasDiff && type !== 'delete'}\n            version={toVersion}\n            path={newPath}\n          />\n          <DownloadFileButton\n            visible={!hasDiff && type !== 'delete'}\n            version={toVersion}\n            path={newPath}\n          />\n          <CompleteDiffButton\n            visible={isDiffCompleted}\n            onClick={() => onCompleteDiff(diffKey)}\n          />\n        </Fragment>\n      </div>\n    </Wrapper>\n  )\n}\n\nexport default DiffHeader\n","import React from 'react'\nimport Markdown from 'markdown-to-jsx'\nimport styled from '@emotion/styled'\n\nexport const Link = styled(props => (\n  // eslint-disable-next-line jsx-a11y/anchor-has-content\n  <a\n    target=\"_blank\"\n    {...props}\n    rel=\"noopener\"\n    onClick={e => e.stopPropagation()}\n  />\n))`\n  text-decoration: none;\n  color: #045dc1;\n`\n\nconst InlineCode = styled.em`\n  font-style: normal;\n  background-color: rgba(27, 31, 35, 0.07);\n  border-radius: 3px;\n  font-size: 85%;\n  margin: 0;\n  padding: 0.2em 0.4em;\n`\n\nexport default ({ forceBlock = false, options = {}, ...props }) => (\n  <Markdown\n    {...props}\n    options={{\n      ...options,\n      forceBlock,\n      overrides: {\n        ...options.overrides,\n        a: Link,\n        em: InlineCode,\n        code: InlineCode,\n        p: styled.p`\n          margin-bottom: 0;\n        `\n      }\n    }}\n  />\n)\n","import React, { useState } from 'react'\nimport styled from '@emotion/styled'\nimport { motion } from 'framer-motion'\nimport { removeAppPathPrefix, getVersionsInDiff } from '../../../utils'\nimport Markdown from '../Markdown'\n\nconst lineColors = {\n  add: '#d6fedb',\n  delete: '#fdeff0',\n  neutral: '#ffffff'\n}\n\nconst Container = styled(({ isCommentVisible, children, ...props }) => (\n  <motion.div\n    {...props}\n    variants={{\n      visible: {\n        height: 'auto'\n      },\n      hidden: { height: 10 }\n    }}\n    initial={isCommentVisible ? 'visible' : 'hidden'}\n    animate={isCommentVisible ? 'visible' : 'hidden'}\n    transition={{\n      duration: 0.5\n    }}\n    inherit={false}\n  >\n    <div children={children} />\n  </motion.div>\n))`\n  overflow: hidden;\n\n  & > div {\n    display: flex;\n    flex-direction: row;\n    background-color: ${({ lineChangeType }) => lineColors[lineChangeType]};\n    cursor: pointer;\n  }\n`\n\nconst ContentContainer = styled.div`\n  flex: 1;\n  position: relative;\n  padding: 16px;\n  color: #000;\n  background-color: #fffbe6;\n  user-select: none;\n`\n\nconst ShowButton = styled(({ isCommentVisible, ...props }) => (\n  <motion.div\n    {...props}\n    variants={{\n      visible: {\n        scaleX: 1\n      },\n      hidden: { scaleX: 10 }\n    }}\n    whileHover={{\n      scale: 2\n    }}\n    initial={isCommentVisible ? 'visible' : 'hidden'}\n    animate={isCommentVisible ? 'visible' : 'hidden'}\n    transition={{\n      duration: 0.25\n    }}\n  />\n))`\n  background-color: #ffe58f;\n  margin-left: 20px;\n  width: 10px;\n  cursor: pointer;\n`\n\nconst Content = styled(Markdown)`\n  opacity: 1;\n  ${({ isCommentVisible }) =>\n    !isCommentVisible &&\n    `\n      opacity: 0;\n    `}\n  transition: opacity 0.25s ease-out;\n`\n\nconst LINE_CHANGE_TYPES = {\n  ADD: 'I',\n  DELETE: 'D',\n  NEUTRAL: 'N'\n}\n\nconst getLineNumberWithType = ({ lineChangeType, lineNumber }) =>\n  `${LINE_CHANGE_TYPES[lineChangeType.toUpperCase()]}${lineNumber}`\n\nconst getComments = ({ newPath, fromVersion, toVersion, appName }) => {\n  const newPathSanitized = removeAppPathPrefix(newPath, appName)\n\n  const versionsInDiff = getVersionsInDiff({ fromVersion, toVersion }).filter(\n    ({ comments }) =>\n      comments &&\n      comments.length > 0 &&\n      comments.some(({ fileName }) => fileName === newPathSanitized)\n  )\n\n  return versionsInDiff.reduce((allComments, version) => {\n    const comments = version.comments.reduce(\n      (versionComments, { fileName, lineChangeType, lineNumber, content }) => {\n        if (fileName !== newPathSanitized) {\n          return versionComments\n        }\n\n        return {\n          ...versionComments,\n          [getLineNumberWithType({ lineChangeType, lineNumber })]: (\n            <DiffComment content={content} lineChangeType={lineChangeType} />\n          )\n        }\n      },\n      {}\n    )\n\n    return {\n      ...allComments,\n      ...comments\n    }\n  }, {})\n}\n\nconst DiffComment = ({ content, lineChangeType }) => {\n  const [isCommentVisible, setIsCommentVisible] = useState(true)\n\n  return (\n    <Container\n      isCommentVisible={isCommentVisible}\n      lineChangeType={lineChangeType}\n      onClick={() => setIsCommentVisible(!isCommentVisible)}\n    >\n      <ShowButton\n        isCommentVisible={isCommentVisible}\n        onClick={() => setIsCommentVisible(!isCommentVisible)}\n      />\n\n      <ContentContainer>\n        <Content isCommentVisible={isCommentVisible}>\n          {content.props.children}\n        </Content>\n      </ContentContainer>\n    </Container>\n  )\n}\n\nexport { getComments }\nexport default DiffComment\n","import React, { useState, useCallback } from 'react'\nimport styled from '@emotion/styled'\nimport {\n  Diff as RDiff,\n  Hunk,\n  markEdits,\n  tokenize,\n  Decoration as DiffDecoration\n} from 'react-diff-view'\nimport DiffHeader from './DiffHeader'\nimport { getComments } from './DiffComment'\nimport { replaceWithProvidedAppName } from '../../../utils'\n\nconst copyPathPopoverContentOpts = {\n  default: 'Click to copy file path',\n  copied: 'File path copied!'\n}\n\nconst Container = styled.div`\n  border: 1px solid #e8e8e8;\n  border-radius: 3px;\n  margin-bottom: 16px;\n  margin-top: 16px;\n`\n\nconst More = styled.div`\n  background-color: #f1f8ff;\n  margin-left: 30px;\n  padding-left: 4px;\n  color: '#1b1f23b3';\n`\n\nconst Decoration = styled(DiffDecoration)`\n  background-color: #dbedff;\n`\n\nconst DiffView = styled(RDiff)`\n  .diff-gutter-col {\n    width: 30px;\n  }\n\n  tr.diff-line {\n    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier,\n      monospace;\n  }\n\n  td.diff-gutter {\n    color: rgba(27, 31, 35, 0.3);\n    padding: 0;\n    text-align: center;\n    font-size: 12px;\n    cursor: auto;\n  }\n\n  td.diff-gutter .diff-line-normal {\n    background-color: #cdffd8;\n    border-color: #bef5cb;\n  }\n\n  td.diff-gutter:hover {\n    cursor: pointer;\n    color: rgba(27, 31, 35, 0.6);\n  }\n\n  td.diff-code {\n    font-size: 12px;\n    color: #24292e;\n  }\n\n  td.diff-code-insert .diff-code-edit {\n    background-color: #acf2bd;\n  }\n\n  td.diff-gutter-omit:before {\n    width: 0;\n    background-color: transparent;\n  }\n\n  td.diff-widget-content {\n    padding: 0;\n  }\n`\n\n// Diff will be collapsed by default if the file has been deleted or has more than 5 hunks\nconst isDiffCollapsedByDefault = ({ type, hunks }) =>\n  type === 'delete' || hunks.length > 5 ? true : undefined\n\nconst Diff = ({\n  oldPath,\n  newPath,\n  type,\n  hunks,\n  fromVersion,\n  toVersion,\n  diffKey,\n  isDiffCompleted,\n  onCompleteDiff,\n  selectedChanges,\n  onToggleChangeSelection,\n  areAllCollapsed,\n  setAllCollapsed,\n  diffViewStyle,\n  appName\n}) => {\n  const [isDiffCollapsed, setIsDiffCollapsed] = useState(\n    isDiffCollapsedByDefault({ type, hunks })\n  )\n\n  const [copyPathPopoverContent, setCopyPathPopoverContent] = useState(\n    copyPathPopoverContentOpts.default\n  )\n\n  const handleCopyPathToClipboard = () => {\n    setCopyPathPopoverContent(copyPathPopoverContentOpts.copied)\n  }\n\n  const handleResetCopyPathPopoverContent = () => {\n    if (copyPathPopoverContent === copyPathPopoverContentOpts.copied) {\n      setCopyPathPopoverContent(copyPathPopoverContentOpts.default)\n    }\n  }\n\n  const getHunksWithAppName = useCallback(\n    originalHunks => {\n      if (!appName) {\n        return originalHunks\n      }\n\n      return originalHunks.map(hunk => ({\n        ...hunk,\n        changes: hunk.changes.map(change => ({\n          ...change,\n          content: replaceWithProvidedAppName(change.content, appName)\n        }))\n      }))\n    },\n    [appName]\n  )\n\n  if (areAllCollapsed !== undefined && areAllCollapsed !== isDiffCollapsed) {\n    setIsDiffCollapsed(areAllCollapsed)\n  } else if (isDiffCompleted && isDiffCollapsed === undefined) {\n    setIsDiffCollapsed(true)\n  }\n\n  const diffComments = getComments({ newPath, fromVersion, toVersion, appName })\n\n  return (\n    <Container>\n      <DiffHeader\n        oldPath={oldPath}\n        newPath={newPath}\n        toVersion={toVersion}\n        type={type}\n        diffKey={diffKey}\n        hasDiff={hunks.length > 0}\n        isDiffCollapsed={isDiffCollapsed}\n        setIsDiffCollapsed={(collapse, altKey) => {\n          if (altKey) {\n            return setAllCollapsed(collapse)\n          }\n\n          setAllCollapsed(undefined)\n          setIsDiffCollapsed(collapse)\n        }}\n        isDiffCompleted={isDiffCompleted}\n        onCopyPathToClipboard={handleCopyPathToClipboard}\n        copyPathPopoverContent={copyPathPopoverContent}\n        resetCopyPathPopoverContent={handleResetCopyPathPopoverContent}\n        onCompleteDiff={onCompleteDiff}\n        appName={appName}\n        diffComments={diffComments}\n      />\n\n      {!isDiffCollapsed && (\n        <DiffView\n          viewType={diffViewStyle}\n          diffType={type}\n          hunks={hunks}\n          widgets={diffComments}\n          optimizeSelection={true}\n          selectedChanges={selectedChanges}\n        >\n          {originalHunks => {\n            const updatedHunks = getHunksWithAppName(originalHunks)\n\n            const options = {\n              enhancers: [markEdits(updatedHunks)]\n            }\n\n            const tokens = tokenize(updatedHunks, options)\n\n            return updatedHunks.map(hunk => [\n              <Decoration key={'decoration-' + hunk.content}>\n                <More>{hunk.content}</More>\n              </Decoration>,\n              <Hunk\n                key={hunk.content}\n                hunk={hunk}\n                tokens={tokens}\n                gutterEvents={{ onClick: onToggleChangeSelection }}\n              />\n            ])\n          }}\n        </DiffView>\n      )}\n    </Container>\n  )\n}\n\n/*\n  Return true if passing `nextProps` to render would return\n  the same result as passing prevProps to render, otherwise return false\n*/\nconst arePropsEqual = (prevProps, nextProps) =>\n  prevProps.isDiffCompleted === nextProps.isDiffCompleted &&\n  prevProps.areAllCollapsed === nextProps.areAllCollapsed &&\n  prevProps.diffViewStyle === nextProps.diffViewStyle\n\nexport default React.memo(Diff, arePropsEqual)\n","import React, { useState, useCallback } from 'react'\nimport styled from '@emotion/styled'\nimport semver from 'semver'\nimport Diff from './Diff'\n\nconst Title = styled.h1`\n  margin-top: 0.5em;\n`\n\nconst DiffSection = ({\n  diff,\n  getDiffKey,\n  title,\n  completedDiffs,\n  isDoneSection,\n  fromVersion,\n  toVersion,\n  handleCompleteDiff,\n  selectedChanges,\n  onToggleChangeSelection,\n  diffViewStyle,\n  appName,\n  doneTitleRef\n}) => {\n  const [areAllCollapsed, setAllCollapsed] = useState(undefined)\n\n  const getIsUpgradingFrom61To62 = useCallback(() => {\n    const isUpgradingFrom61 = semver.satisfies(\n      fromVersion,\n      '>= 0.61.0 <= 0.62.0'\n    )\n\n    const isUpgradingTo62 = semver.satisfies(toVersion, '>= 0.62.0 <= 0.63.0')\n\n    return isUpgradingFrom61 && isUpgradingTo62\n  }, [fromVersion, toVersion])\n\n  const isUpgradingFrom61To62 = getIsUpgradingFrom61To62()\n\n  return (\n    <div>\n      {title && completedDiffs.length > 0 && (\n        <Title ref={doneTitleRef}>{title}</Title>\n      )}\n\n      {diff.map(diffFile => {\n        const diffKey = getDiffKey(diffFile)\n        const isDiffCompleted = completedDiffs.includes(diffKey)\n\n        // If it's the \"done\" section, it shouldn't show if it's not completed\n        if (isDoneSection !== isDiffCompleted) {\n          return null\n        }\n\n        // This is here because there was a change in the line-endings of the\n        // `gradlew.bat` from version 0.61 to 0.62 which showed the entire file\n        // as a big change\n        if (\n          isUpgradingFrom61To62 &&\n          diffFile.oldPath.match(/gradlew.bat/) &&\n          diffFile.newPath.match(/gradlew.bat/)\n        ) {\n          return null\n        }\n\n        return (\n          <Diff\n            key={`${diffFile.oldRevision}${diffFile.newRevision}`}\n            {...diffFile}\n            // otakustay/react-diff-view#49\n            type={diffFile.type === 'new' ? 'add' : diffFile.type}\n            diffKey={diffKey}\n            diffViewStyle={diffViewStyle}\n            fromVersion={fromVersion}\n            toVersion={toVersion}\n            isDiffCompleted={completedDiffs.includes(diffKey)}\n            onCompleteDiff={handleCompleteDiff}\n            selectedChanges={selectedChanges}\n            onToggleChangeSelection={onToggleChangeSelection}\n            areAllCollapsed={areAllCollapsed}\n            setAllCollapsed={setAllCollapsed}\n            appName={appName}\n          />\n        )\n      })}\n    </div>\n  )\n}\n\nexport default DiffSection\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { motion } from 'framer-motion'\nimport ContentLoader from 'react-content-loader'\n\nconst TitleLoader = () => (\n  <ContentLoader\n    speed={1}\n    backgroundColor=\"#eee\"\n    foregroundColor=\"#e6e6e6\"\n    viewBox=\"0 0 400 100\"\n  >\n    <rect width=\"250\" height=\"6\" rx=\"1.5\" />\n  </ContentLoader>\n)\n\nconst DiffLoader = () => (\n  <ContentLoader\n    speed={1}\n    backgroundColor=\"#eee\"\n    foregroundColor=\"#e6e6e6\"\n    viewBox=\"0 0 400 100\"\n  >\n    <rect x=\"0\" y=\"10\" width=\"47%\" height=\"6\" rx=\"1.5\" />\n    <rect x=\"200\" y=\"10\" width=\"41%\" height=\"6\" rx=\"1.5\" />\n    <rect x=\"0\" y=\"18\" width=\"43%\" height=\"6\" rx=\"1.5\" />\n    <rect x=\"200\" y=\"34\" width=\"40%\" height=\"6\" rx=\"1.5\" />\n    <rect x=\"200\" y=\"42\" width=\"45%\" height=\"6\" rx=\"1.5\" />\n    <rect x=\"0\" y=\"42\" width=\"40%\" height=\"6\" rx=\"1.5\" />\n    <rect x=\"0\" y=\"50\" width=\"44%\" height=\"6\" rx=\"1.5\" />\n  </ContentLoader>\n)\n\nconst Container = styled(motion.div)`\n  margin-top: 16px;\n  border: 1px solid #e8e8e8;\n  border-radius: 3px;\n`\n\nconst Header = styled.div({\n  color: '#24292e',\n  backgroundColor: '#fafbfc',\n  padding: '10px',\n  height: '40px'\n})\n\nconst DiffLoading = () => (\n  <Container\n    initial={{ opacity: 0, translateY: 100 }}\n    animate={{ opacity: 1, translateY: 0 }}\n    transition={{ duration: 0.5 }}\n  >\n    <Header>\n      <TitleLoader />\n    </Header>\n    <div\n      css={{\n        padding: '5px 10px'\n      }}\n    >\n      <DiffLoader />\n    </div>\n  </Container>\n)\n\nexport default DiffLoading\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { Tooltip } from 'antd'\n\nconst UpgradeSupportAlert = styled(props => (\n  <div {...props}>\n    <span>\n      Check out{' '}\n      <Tooltip\n        placement=\"bottom\"\n        title=\"Upgrade Support is a community-backed place to request and give help when upgrading your app.\"\n      >\n        <a\n          href=\"https://github.com/react-native-community/upgrade-support\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          {...props}\n        >\n          Upgrade Support\n        </a>\n      </Tooltip>{' '}\n      if you are experiencing issues related to React Native during the\n      upgrading process.\n    </span>\n  </div>\n))`\n  padding-top: 15px;\n  span > a {\n    color: #045dc1;\n\n    &:hover {\n      color: #40a9ff;\n    }\n  }\n`\n\nexport default UpgradeSupportAlert\n","import React from 'react'\nimport Markdown from './Markdown'\n\nconst AppNameWarning = () => (\n  <Markdown>\n    Keep in mind that `RnDiffApp` and `rndiffapp` are placeholders. When\n    upgrading, you should replace them with your actual project's name. You can\n    also provide your app name by clicking the settings icon on the top right.\n  </Markdown>\n)\n\nexport default AppNameWarning\n","import React, { Component, Fragment } from 'react'\nimport styled from '@emotion/styled'\nimport { UpOutlined, DownOutlined } from '@ant-design/icons'\nimport { Button } from 'antd'\nimport { getVersionsInDiff, getChangelogURL } from '../../utils'\nimport { Link } from './Markdown'\nimport UpgradeSupportAlert from './UpgradeSupportAlert'\nimport AppNameWarning from './AppNameWarning'\nimport { motion } from 'framer-motion'\n\nconst Container = styled.div`\n  position: relative;\n  margin-top: 16px;\n  color: rgba(0, 0, 0, 0.65);\n  overflow: hidden;\n`\n\nconst InnerContainer = styled.div`\n  color: rgba(0, 0, 0, 0.65);\n  background-color: #fffbe6;\n  border-width: 1px;\n  border-left-width: 7px;\n  border-color: #ffe58f;\n  border-style: solid;\n  border-radius: 3px;\n  transition: padding 0.25s ease-out;\n`\n\nconst Title = styled(({ isContentVisible, ...props }) => (\n  <motion.h2\n    {...props}\n    variants={{\n      visibleContent: {\n        translateX: 0,\n        translateY: 0\n      },\n      hiddenContent: {\n        translateX: -5,\n        translateY: -10\n      }\n    }}\n    initial={isContentVisible ? 'visibleContent' : 'hiddenContent'}\n    animate={isContentVisible ? 'visibleContent' : 'hiddenContent'}\n    transition={{\n      duration: 0.25\n    }}\n    inherit={false}\n  />\n))`\n  font-size: 17px;\n  cursor: pointer;\n  margin: 0px;\n  padding: 18px 0px 0px 14px;\n`\n\nconst ContentContainer = styled(({ isContentVisible, children, ...props }) => (\n  <motion.div\n    {...props}\n    variants={{\n      visible: {\n        opacity: 1,\n        height: 'auto',\n        translateY: 0\n      },\n      hidden: { opacity: 0, height: 0, translateY: -20 }\n    }}\n    initial={isContentVisible ? 'visible' : 'hidden'}\n    animate={isContentVisible ? 'visible' : 'hidden'}\n    transition={{\n      duration: 0.25\n    }}\n    inherit={false}\n  >\n    <div children={children} />\n  </motion.div>\n))`\n  & > div {\n    padding: 15px 24px 19px;\n  }\n`\n\nconst Icon = styled(props => (\n  <span {...props} role=\"img\" aria-label=\"Megaphone emoji\">\n    \n  </span>\n))`\n  margin: 0px 10px;\n`\n\nconst HideContentButton = styled(\n  ({ toggleContentVisibility, isContentVisible, ...props }) => (\n    <Button\n      {...props}\n      type=\"link\"\n      icon={isContentVisible ? <UpOutlined /> : <DownOutlined />}\n      onClick={toggleContentVisibility}\n    />\n  )\n)`\n  float: right;\n  position: absolute;\n  top: 11px;\n  right: 12px;\n  font-size: 12px;\n  border-width: 0px;\n  width: 20px;\n  height: 20px;\n  color: rgba(0, 0, 0, 0.45);\n  &:hover,\n  &:focus {\n    color: #24292e;\n  }\n`\n\nconst Separator = styled.hr`\n  margin: 15px 0;\n  background-color: #e1e4e8;\n  height: 0.25em;\n  border: 0;\n`\n\nconst List = styled.ol`\n  padding-inline-start: 18px;\n  margin: 10px 0 0;\n`\n\nclass UsefulContentSection extends Component {\n  state = {\n    isContentVisible: true\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Only re-render component if it has reloaded the diff on the parent\n    const hasLoaded = this.props.isLoading && !nextProps.isLoading\n    // or if the content has been hidden\n    const hasContentBeenHidden =\n      this.state.isContentVisible !== nextState.isContentVisible\n\n    return hasLoaded || hasContentBeenHidden\n  }\n\n  handleToggleContentVisibility = () =>\n    this.setState(({ isContentVisible }) => ({\n      isContentVisible: !isContentVisible\n    }))\n\n  render() {\n    const { fromVersion, toVersion } = this.props\n    const { isContentVisible } = this.state\n\n    const versions = getVersionsInDiff({ fromVersion, toVersion })\n    const doesAnyVersionHaveUsefulContent = versions.some(\n      ({ usefulContent }) => !!usefulContent\n    )\n\n    if (!doesAnyVersionHaveUsefulContent) {\n      return null\n    }\n\n    const hasMoreThanOneRelease = versions.length > 1\n\n    return (\n      <Container isContentVisible={isContentVisible}>\n        <InnerContainer isContentVisible={isContentVisible}>\n          <Title\n            isContentVisible={isContentVisible}\n            onClick={this.handleToggleContentVisibility}\n          >\n            <Icon /> Useful content for upgrading\n          </Title>\n\n          <HideContentButton\n            isContentVisible={isContentVisible}\n            toggleContentVisibility={this.handleToggleContentVisibility}\n          />\n\n          <ContentContainer isContentVisible={isContentVisible}>\n            {versions.map(({ usefulContent, version }, key) => {\n              const versionWithoutEndingZero = version.slice(0, 4)\n\n              const links = [\n                ...usefulContent.links,\n                {\n                  title: `React Native ${versionWithoutEndingZero} changelog`,\n                  url: getChangelogURL({ version: versionWithoutEndingZero })\n                }\n              ]\n\n              return (\n                <Fragment key={key}>\n                  {key > 0 && <Separator />}\n\n                  {hasMoreThanOneRelease && (\n                    <h3>Release {versionWithoutEndingZero}</h3>\n                  )}\n\n                  <span>{usefulContent.description}</span>\n\n                  <List>\n                    {links.map(({ url, title }, key) => (\n                      <li key={`${url}${key}`}>\n                        <Link href={url}>{title}</Link>\n                      </li>\n                    ))}\n                  </List>\n                </Fragment>\n              )\n            })}\n\n            <UpgradeSupportAlert />\n\n            <Separator />\n\n            <AppNameWarning />\n          </ContentContainer>\n        </InnerContainer>\n      </Container>\n    )\n  }\n}\n\nexport default UsefulContentSection\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { Radio } from 'antd'\n\nconst Container = styled.div`\n  position: relative;\n  border-width: 1px;\n  margin-top: 16px;\n  flex-direction: row-reverse;\n  display: flex;\n`\n\nconst DiffViewStyleOptions = styled(\n  ({ handleViewStyleChange, diffViewStyle }) => {\n    return (\n      <Container>\n        <Radio.Group value={diffViewStyle}>\n          <Radio.Button\n            value=\"split\"\n            onChange={() => handleViewStyleChange('split')}\n          >\n            Split\n          </Radio.Button>\n          <Radio.Button\n            value=\"unified\"\n            onChange={() => handleViewStyleChange('unified')}\n          >\n            Unified\n          </Radio.Button>\n        </Radio.Group>\n      </Container>\n    )\n  }\n)`\n  float: right;\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 12px;\n  border-width: 0px;\n  width: 20px;\n  height: 20px;\n  margin-right: 8px;\n  &,\n  &:hover,\n  &:focus {\n    color: #24292e;\n  }\n`\nexport default DiffViewStyleOptions\n","import React from 'react'\nimport styled from '@emotion/styled'\nimport { keyframes, css } from '@emotion/core'\nimport Confetti from 'react-dom-confetti'\nimport { Popover } from 'antd'\n\nconst shake = keyframes`\n  0% {\n    transform: translate(0, 0);\n  }\n\n  10%, 90% {\n    transform: translate(0, -2px);\n  }\n\n  20%, 80% {\n    transform: translate(0, 3px);\n  }\n\n  30%, 50%, 70% {\n    transform: translate(0, -5px);\n  }\n\n  40%, 60% {\n    transform: translate(0, 5px);\n  }\n`\n\nconst CompletedFilesCounter = styled(\n  ({ completed, total, popoverContent, popoverCursorType, ...props }) => (\n    <div {...props}>\n      <Popover\n        content={popoverContent}\n        trigger=\"hover\"\n        placement=\"right\"\n        overlayStyle={{\n          position: 'fixed'\n        }}\n      >\n        <span className=\"completedAmount\">\n          {completed === 0 ? 1 : completed}\n        </span>{' '}\n        /{total}\n      </Popover>\n      <Confetti\n        active={completed === total}\n        config={{\n          elementCount: 200,\n          angle: 130,\n          startVelocity: 30\n        }}\n      />\n    </div>\n  )\n)`\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  background: #d5eafd;\n  padding: 10px;\n  border: 1px solid #1890ff;\n  border-radius: 20px;\n  color: #7dadda;\n  transform: ${({ completed }) =>\n    completed ? 'translateY(0px)' : 'translateY(70px)'};\n  display: flex;\n  align-self: flex-end;\n  transition: transform 0.3s;\n  cursor: ${({ popoverCursorType }) => popoverCursorType};\n  ${({ completed, total }) =>\n    completed === total &&\n    css`\n      transform: translateY(70px);\n      animation: ${shake};\n      animation-duration: 1.5s;\n    `}\n\n  .completedAmount {\n    color: #1890ff;\n  }\n`\n\nexport default CompletedFilesCounter\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport styled from '@emotion/styled'\nimport { Alert } from 'antd'\nimport { motion, AnimatePresence, AnimateSharedLayout } from 'framer-motion'\nimport { parseDiff, withChangeSelect } from 'react-diff-view'\nimport 'react-diff-view/style/index.css'\nimport { getDiffPatchURL } from '../../utils'\nimport DiffSection from './Diff/DiffSection'\nimport DiffLoading from './Diff/DiffLoading'\nimport UsefulContentSection from './UsefulContentSection'\nimport ViewStyleOptions from './Diff/DiffViewStyleOptions'\nimport CompletedFilesCounter from './CompletedFilesCounter'\n\nconst delay = ms => new Promise(res => setTimeout(res, ms))\n\nconst Container = styled.div`\n  width: 90%;\n`\n\nconst getDiffKey = ({ oldRevision, newRevision }) =>\n  `${oldRevision}${newRevision}`\n\nconst scrollToRef = ref => ref.current.scrollIntoView({ behavior: 'smooth' })\n\nconst DiffViewer = ({\n  shouldShowDiff,\n  fromVersion,\n  toVersion,\n  selectedChanges,\n  onToggleChangeSelection,\n  appName\n}) => {\n  const [isLoading, setLoading] = useState(true)\n  const [diff, setDiff] = useState(null)\n  const [completedDiffs, setCompletedDiffs] = useState([])\n  const [isGoToDoneClicked, setIsGoToDoneClicked] = useState(false)\n  const donePopoverPossibleOpts = {\n    done: {\n      content: 'Scroll to Done section',\n      cursorType: 's-resize'\n    },\n    top: {\n      content: 'Scroll to Top',\n      cursorType: 'n-resize'\n    }\n  }\n  const [donePopoverOpts, setDonePopoverOpts] = useState(\n    donePopoverPossibleOpts.done\n  )\n  const doneTitleRef = useRef(null)\n\n  const scrollToDone = () => scrollToRef(doneTitleRef)\n  const scrollToTop = () => window.scrollTo({ top: 0, behavior: 'smooth' })\n\n  const handleCompletedFilesCounterClick = () => {\n    setIsGoToDoneClicked(!isGoToDoneClicked)\n    if (isGoToDoneClicked) {\n      setDonePopoverOpts(donePopoverPossibleOpts.done)\n      scrollToTop()\n    } else {\n      setDonePopoverOpts(donePopoverPossibleOpts.top)\n      scrollToDone()\n    }\n  }\n\n  const handleCompleteDiff = diffKey => {\n    if (completedDiffs.includes(diffKey)) {\n      return setCompletedDiffs(prevCompletedDiffs =>\n        prevCompletedDiffs.filter(completedDiff => completedDiff !== diffKey)\n      )\n    }\n\n    setCompletedDiffs(prevCompletedDiffs => [...prevCompletedDiffs, diffKey])\n  }\n\n  const renderUpgradeDoneMessage = ({ diff, completedDiffs }) =>\n    diff.length === completedDiffs.length && (\n      <Alert\n        style={{ marginTop: 16 }}\n        message=\"Your upgrade is done \"\n        type=\"success\"\n        showIcon\n        closable\n      />\n    )\n\n  const resetCompletedDiff = () => setCompletedDiffs([])\n\n  const [diffViewStyle, setViewStyle] = useState(\n    localStorage.getItem('viewStyle') || 'split'\n  )\n\n  const handleViewStyleChange = newViewStyle => {\n    setViewStyle(newViewStyle)\n    localStorage.setItem('viewStyle', newViewStyle)\n  }\n\n  const handleFetchDiff = useCallback(async () => {\n    setLoading(true)\n    resetCompletedDiff()\n\n    const [response] = await Promise.all([\n      fetch(getDiffPatchURL({ fromVersion, toVersion })),\n      delay(300)\n    ])\n\n    const diff = await response.text()\n\n    setDiff(\n      parseDiff(diff).sort(({ newPath }) =>\n        newPath.includes('package.json') ? -1 : 1\n      )\n    )\n\n    setLoading(false)\n  }, [fromVersion, toVersion])\n\n  useEffect(() => {\n    if (!shouldShowDiff) {\n      return\n    }\n\n    handleFetchDiff()\n  }, [handleFetchDiff, shouldShowDiff])\n\n  if (!shouldShowDiff) {\n    return null\n  }\n\n  if (isLoading) {\n    return (\n      <Container>\n        <AnimatePresence>\n          <DiffLoading />\n        </AnimatePresence>\n      </Container>\n    )\n  }\n\n  const diffSectionProps = {\n    diff: diff,\n    getDiffKey: getDiffKey,\n    completedDiffs: completedDiffs,\n    fromVersion: fromVersion,\n    toVersion: toVersion,\n    handleCompleteDiff: handleCompleteDiff,\n    selectedChanges: selectedChanges,\n    onToggleChangeSelection: onToggleChangeSelection\n  }\n\n  return (\n    <Container>\n      <AnimateSharedLayout>\n        <motion.div\n          initial={{ opacity: 0, translateY: 75 }}\n          animate={{ opacity: 1, translateY: 0 }}\n          transition={{ duration: 0.5 }}\n        >\n          <UsefulContentSection\n            isLoading={isLoading}\n            fromVersion={fromVersion}\n            toVersion={toVersion}\n          />\n\n          <ViewStyleOptions\n            handleViewStyleChange={handleViewStyleChange}\n            diffViewStyle={diffViewStyle}\n          />\n\n          <DiffSection\n            {...diffSectionProps}\n            isDoneSection={false}\n            diffViewStyle={diffViewStyle}\n            appName={appName}\n          />\n\n          {renderUpgradeDoneMessage({ diff, completedDiffs })}\n\n          <DiffSection\n            {...diffSectionProps}\n            isDoneSection={true}\n            title=\"Done\"\n            appName={appName}\n            doneTitleRef={doneTitleRef}\n          />\n\n          <CompletedFilesCounter\n            completed={completedDiffs.length}\n            total={diff.length}\n            onClick={handleCompletedFilesCounterClick}\n            popoverContent={donePopoverOpts.content}\n            popoverCursorType={donePopoverOpts.cursorType}\n          />\n        </motion.div>\n      </AnimateSharedLayout>\n    </Container>\n  )\n}\n\nexport default withChangeSelect({ multiple: true })(DiffViewer)\n","import React, { useState } from 'react'\nimport { SettingOutlined } from '@ant-design/icons'\nimport { Popover, Button, Checkbox, Input } from 'antd'\nimport { SHOW_LATEST_RCS } from '../../utils'\nimport styled from '@emotion/styled'\n\nconst InputContainer = styled.div({\n  marginTop: '16px'\n})\nconst Settings = ({ handleSettingsChange, appName, setAppName }) => {\n  const [popoverVisibility, setVisibility] = useState(false)\n\n  const handleClickChange = visibility => setVisibility(visibility)\n\n  const updateCheckboxValues = checkboxValues =>\n    handleSettingsChange(checkboxValues)\n\n  return (\n    <Popover\n      placement=\"bottomRight\"\n      content={\n        <>\n          <Checkbox.Group onChange={updateCheckboxValues}>\n            <div>\n              <Checkbox value={SHOW_LATEST_RCS}>{SHOW_LATEST_RCS}</Checkbox>\n            </div>\n          </Checkbox.Group>\n          <InputContainer>\n            <h4>What's your app name?</h4>\n            <Input\n              value={appName}\n              onChange={e => {\n                setAppName(e.target.value)\n              }}\n              placeholder=\"MyAwesomeApp\"\n            />\n          </InputContainer>\n        </>\n      }\n      trigger=\"click\"\n      visible={popoverVisibility}\n      onVisibleChange={handleClickChange}\n    >\n      <Button icon={<SettingOutlined />} />\n    </Popover>\n  )\n}\n\nexport default Settings\n","import React, { useState, useEffect } from 'react'\nimport styled from '@emotion/styled'\nimport { Alert, Card } from 'antd'\nimport GitHubButton from 'react-github-btn'\nimport ReactGA from 'react-ga'\nimport VersionSelector from '../common/VersionSelector'\nimport DiffViewer from '../common/DiffViewer'\nimport Settings from '../common/Settings'\nimport { homepage } from '../../../package.json'\nimport logo from '../../assets/logo.svg'\nimport { SHOW_LATEST_RCS } from '../../utils'\nimport { Link } from '../common/Markdown'\n\nconst Page = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding-top: 30px;\n`\n\nconst Container = styled(Card)`\n  width: 90%;\n  border-radius: 3px;\n  border-color: #e8e8e8;\n`\n\nconst TitleContainer = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst LogoImg = styled.img`\n  width: 100px;\n  margin-bottom: 15px;\n`\n\nconst TitleHeader = styled.h1`\n  margin: 0;\n  margin-left: 15px;\n`\n\nconst StarButton = styled(({ className, ...props }) => (\n  <div className={className}>\n    <GitHubButton {...props} />\n  </div>\n))`\n  margin-top: 10px;\n  margin-left: 15px;\n  margin-right: auto;\n`\n\nconst Home = () => {\n  const [fromVersion, setFromVersion] = useState('')\n  const [toVersion, setToVersion] = useState('')\n  const [shouldShowDiff, setShouldShowDiff] = useState(false)\n  const [settings, setSettings] = useState({\n    [`${SHOW_LATEST_RCS}`]: false\n  })\n  const [appName, setAppName] = useState('')\n\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'production') {\n      ReactGA.initialize('UA-136307971-1')\n      ReactGA.pageview('/')\n    }\n  }, [])\n\n  const handleShowDiff = ({ fromVersion, toVersion }) => {\n    if (fromVersion === toVersion) {\n      return\n    }\n\n    setFromVersion(fromVersion)\n    setToVersion(toVersion)\n    setShouldShowDiff(true)\n  }\n\n  const handleSettingsChange = settingsValues => {\n    const normalizedIncomingSettings = settingsValues.reduce((acc, val) => {\n      acc[val] = true\n      return acc\n    }, {})\n\n    setSettings(normalizedIncomingSettings)\n  }\n\n  return (\n    <Page>\n\t  <Alert\n\t\ttype=\"warning\"\n\t\tshowIcon\n\t\tmessage={\n\t\t\t<>\n\t\t\t<span>\n\t\t\t\tHaving problems with Xcode 12.5 with React Native 0.62, 0.63 or 0.64?\n\t\t\t \t<br />\n\t\t\t\tMake sure to check the troubleshooting guide\n\t\t\t</span>\n\t\t\t{\" \"}\n\t\t\t<Link href=\"https://github.com/facebook/react-native/issues/31480\">\n\t\t\there\n\t\t\t</Link>\n\t\t\t<span>!</span>\n\t\t\t</>\n\t\t\t}\n        style={{ marginBottom: 16 }}\n\t  />\n      <Container>\n        <TitleContainer>\n          <LogoImg\n            alt=\"React Native Upgrade Helper logo\"\n            title=\"React Native Upgrade Helper logo\"\n            src={logo}\n          />\n\n          <a href={homepage}>\n            <TitleHeader>React Native Upgrade Helper</TitleHeader>\n          </a>\n\n          <StarButton\n            href=\"https://github.com/react-native-community/upgrade-helper\"\n            data-icon=\"octicon-star\"\n            data-show-count=\"true\"\n            aria-label=\"Star react-native-community/upgrade-helper on GitHub\"\n          >\n            Star\n          </StarButton>\n\n          <Settings\n            handleSettingsChange={handleSettingsChange}\n            appName={appName}\n            setAppName={setAppName}\n          />\n        </TitleContainer>\n\n        <VersionSelector\n          showDiff={handleShowDiff}\n          showReleaseCandidates={settings[SHOW_LATEST_RCS]}\n        />\n      </Container>\n\n      <DiffViewer\n        shouldShowDiff={shouldShowDiff}\n        fromVersion={fromVersion}\n        toVersion={toVersion}\n        appName={appName}\n      />\n    </Page>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport Home from './components/pages/Home'\n\nconst App = () => <Home />\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css';\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// this line HAAAAAAAAS to go\nconst versions = ['0.64', '0.62', '0.61', '0.60', '0.59', '0.58', '0.57']\n\nexport default versions.map(version => ({\n  ...require(`./${version}`).default,\n  version\n}))\n","const fixtureVersions = ['0.59', '0.58', '0.57', '0.56']\n\njest.setMock(\n  '../index.js',\n  fixtureVersions.map(version => ({\n    version\n  }))\n)\n"],"sourceRoot":""}